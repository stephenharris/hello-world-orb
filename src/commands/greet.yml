description: >
  This command echos "Hello World" using file inclusion.
# What will this command do?
# Descriptions should be short, simple, and clear.
parameters:
  to:
    type: string
    default: "World"
    description: "Hello to whom?"
steps:
  - run:
      name: Run python from inline with set environment var
      shell: /bin/bash -eo pipefail
      command: |
        export HELLO_TO=<<parameters.to>>
        echo "Hello to $HELLO_TO"
        cat >/tmp/greet.py \<<"EOF"
        #!/usr/bin/env python3
        import os
        
        print("Hello from python!")
        print("Hello " + os.environ["HELLO_TO"])
        EOF
        
        python3 /tmp/greet.py
